const heroFeatured = [
  {
    category: "articles",
    id: 1
  }, {
    category: "articles",
    id: 2
  }, {
    category: "case-studies",
    id: 1
  }
];

const resources = {
  "articles": {
    title: "Articles",
    description: "Articles showcasing best in class Ionic-built apps from some of the best companies in the world.",
    items: [
      {
        "id": 1,
        "type": "Article",
        "title": "Hybrid Vs. Native ebook",
        "url": "https://ionicframework.com/articles/pwa-architects-guide",
        "action": "Read"
      }, {
        "id": 2,
        "type": "Article",
        "title": "PWA Architects Guide",
        "url": "https://ionicframework.com/books/hybrid-vs-native",
        "action": "Read"
      }, {
        "id": 3,
        "type": "Article",
        "title": "The Mobile Delivery Gap",
        "url": "https://blog.ionicframework.com/the-mobile-delivery-gap/",
        "action": "Read"
      }, {
        "id": 4,
        "type": "Article",
        "title": "2017 Developer Survey",
        "url": "https://ionicframework.com/survey/2017",
        "action": "Read"
      }, {
        "id": 5,
        "type": "Article",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "Read"
      }, {
        "id": 6,
        "type": "Article",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Read"
      }, {
        "id": 7,
        "type": "Article",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "Read"
      }, {
        "id": 8,
        "type": "Article",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Read"
      }, {
        "id": 9,
        "type": "Article",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "Read"
      }, {
        "id": 10,
        "type": "Article",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Read"
      }, {
        "id": 11,
        "type": "Article",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "Read"
      }, {
        "id": 12,
        "type": "Article",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Read"
      }, {
        "id": 13,
        "type": "Article",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Read"
      }
    ]
  },
  "case-studies": {
    title: "Case Studies",
    description: "Case Studies showcasing best in class Ionic-built apps from some of the best companies in the world.",
    items: [
      {
        "id": 1,
        "type": "Case Study",
        "title": "Building the new Marketwatch app",
        "url": "https://ionicframework.com/case-studies/MarketWatch.pdf",
        "action": "Read"
      }, {
        "id": 2,
        "type": "Case Study",
        "title": "Napa Group speeds up development",
        "url": "https://ionicframework.com/files/NapaGroup_CS_05.pdf",
        "action": "Read"
      }, {
        "id": 3,
        "type": "Case Study",
        "title": "Airbus takes to the skies with Ionic",
        "url": "https://ionicframework.com/files/Airbus_Case_Study.pdf",
        "action": "Read"
      }, {
        "id": 4,
        "type": "Case Study",
        "title": "SworKit lorem ipsum dolor",
        "url": "https://ionicframework.com/case-studies/Sworkit.pdf",
        "action": "Read"
      }, {
        "id": 5,
        "type": "Case Study",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "Read"
      }, {
        "id": 6,
        "type": "Case Study",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Read"
      }, {
        "id": 7,
        "type": "Case Study",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "Read"
      }, {
        "id": 8,
        "type": "Case Study",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Read"
      }, {
        "id": 9,
        "type": "Case Study",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "Read"
      }, {
        "id": 10,
        "type": "Case Study",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Read"
      }, {
        "id": 11,
        "type": "Case Study",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "Read"
      }, {
        "id": 12,
        "type": "Case Study",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Read"
      }, {
        "id": 13,
        "type": "Case Study",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Read"
      }
    ]
  },
  "webinars": {
    title: "Webinars",
    description: "Webinars showcasing best in class Ionic-built apps from some of the best companies in the world.",
    items: [
      {
        "id": 1,
        "type": "Webinar",
        "title": "Development & Testing On-Device with Ionic DevApp and View",
        "url": "https://www.youtube.com/watch?v=7jTQYF5qE98",
        "action": "Listen"
      }, {
        "id": 2,
        "type": "Webinar",
        "title": "Continuous Deployment & Live Updates with Ionic Deploy",
        "url": "https://www.youtube.com/watch?v=I7PC3O4q1ug",
        "action": "Listen"
      }, {
        "id": 3,
        "type": "Webinar",
        "title": "PWA Overview",
        "url": "https://www.youtube.com/watch?v=ooWIY_bnwKs",
        "action": "Listen"
      }, {
        "id": 4,
        "type": "Webinar",
        "title": "Ionic Pro Live Demo",
        "url": "https://cdn.livestorm.co/uploads/video/file/10951/d39abc95-7382-43b4-ba5d-75dbb5d97fde.mp4?v=1518086083",
        "action": "Listen"
      }, {
        "id": 5,
        "type": "Webinar",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "Listen"
      }, {
        "id": 6,
        "type": "Webinar",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Listen"
      }, {
        "id": 7,
        "type": "Webinar",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "Listen"
      }, {
        "id": 8,
        "type": "Webinar",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Listen"
      }, {
        "id": 9,
        "type": "Webinar",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "Listen"
      }, {
        "id": 10,
        "type": "Webinar",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Listen"
      }, {
        "id": 11,
        "type": "Webinar",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "Listen"
      }, {
        "id": 12,
        "type": "Webinar",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Listen"
      }, {
        "id": 13,
        "type": "Webinar",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Listen"
      }
    ]
  },
  "videos": {
    title: "Videos",
    description: "Videos showcasing best in class Ionic-built apps from some of the best companies in the world.",
    items: [
      {
        "id": 1,
        "type": "Video",
        "title": "How Ionic Fueled Sworkit",
        "url": "https://www.youtube.com/watch?v=cTHjJ5-e6YQ",
        "action": "Watch"
      }, {
        "id": 2,
        "type": "Video",
        "title": "Why we built Ionic Pro",
        "url": "#",
        "action": "Watch"
      }, {
        "id": 3,
        "type": "Video",
        "title": "Why PWAs are exciting",
        "url": "#",
        "action": "Watch"
      }, {
        "id": 4,
        "type": "Video",
        "title": "Ionic Show",
        "url": "https://www.youtube.com/watch?v=YhlRbFQotT4&t=21s",
        "action": "Watch"
      }, {
        "id": 5,
        "type": "Video",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "Watch"
      }, {
        "id": 6,
        "type": "Video",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Watch"
      }, {
        "id": 7,
        "type": "Video",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "Watch"
      }, {
        "id": 8,
        "type": "Video",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Watch"
      }, {
        "id": 9,
        "type": "Video",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "Watch"
      }, {
        "id": 10,
        "type": "Video",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Watch"
      }, {
        "id": 11,
        "type": "Video",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "Watch"
      }, {
        "id": 12,
        "type": "Video",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Watch"
      }, {
        "id": 13,
        "type": "Video",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "Watch"
      }
    ]
  },
  "presentations": {
    title: "Presentations",
    description: "Presentations showcasing best in class Ionic-built apps from some of the best companies in the world.",
    items: [
      {
        "id": 1,
        "type": "Presentation",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "View"
      }, {
        "id": 2,
        "type": "Presentation",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "View"
      }, {
        "id": 3,
        "type": "Presentation",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "View"
      }, {
        "id": 4,
        "type": "Presentation",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "View"
      }, {
        "id": 5,
        "type": "Presentation",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "View"
      }, {
        "id": 6,
        "type": "Presentation",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "View"
      }, {
        "id": 7,
        "type": "Presentation",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "View"
      }, {
        "id": 8,
        "type": "Presentation",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "View"
      }, {
        "id": 9,
        "type": "Presentation",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "View"
      }, {
        "id": 10,
        "type": "Presentation",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "View"
      }, {
        "id": 11,
        "type": "Presentation",
        "title": "Lorem ipsum",
        "url": "#",
        "action": "View"
      }, {
        "id": 12,
        "type": "Presentation",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "View"
      }, {
        "id": 13,
        "type": "Presentation",
        "title": "Dolor sit amet",
        "url": "#",
        "action": "View"
      }
    ]
  }
}

const colors = [
  '#7ac9ee',
  '#f66b7b',
  '#db83e8',
  '#262d63',
  '#121e30',
  '#535582',
  '#f8926b',
  '#7dc0ff',
  '#62aff1',
  '#ffcf5a',
  '#a382e7'
];

let sectionFeatured = [];

Object.keys(resources).forEach((category, index) => {
  // set color for each card
  const colorShuffle = shuffle(colors.slice(0));
  resources[category].items.map((o, i) => {
    if (!o.bgImage) {
      o.bgColor = colorShuffle[i % colorShuffle.length];
    }
  });

  // get the first 4 resources from each section to be featured on the homepage,
  // but only if they aren't featured in the hero
  let candidates = resources[category].items.slice(0);
  heroFeatured.map(resource => {
    if (resource.category === category)
      candidates = candidates.filter(o => o.id !== resource.id);
    }
  );
  sectionFeatured[category] = candidates.slice(0, 4);
});

function shuffle(a) {
  for (let i = a.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}

module.exports = {
  heroFeatured: heroFeatured.map(o => resources[o.category].items.find(r => r.id === o.id)),
  sectionFeatured: sectionFeatured,
  resources: resources
};
